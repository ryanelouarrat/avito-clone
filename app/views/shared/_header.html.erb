<!-- Avito Header -->
<header class="avito-header border-bottom fixed-top">
  <div class="container">
    <div class="d-flex justify-content-around align-items-center py-2">
      <!-- Logo -->
      <div class="logo-container">
        <a href="<%= root_path %>" class="text-decoration-none">
          <div class="d-flex align-items-center">
            <div class="avito-logo me-2">
              <%= image_tag('avito.png', size: "80x30") %>
            </div>
          </div>
        </a>
      </div>
      
      <!-- Main Navigation -->
      <nav class="main-nav d-none d-lg-flex" style="font-size:12px;">
        <a href="#" class="nav-link px-2">Auto Neuf</a>
        <a href="#" class="nav-link px-2">Immo Neuf</a>
        <a href="#" class="nav-link px-2">Crédit Immobilier</a>
        <a href="#" class="nav-link px-2">Crédit Conso</a>
        <a href="#" class="nav-link px-2">Boutiques</a>
        <a href="#" class="nav-link px-2">Magazine</a>
      </nav>

      <!-- User Area -->
      <div class="user-area d-flex align-items-center">
        <% if logged_in? %>
          <div class="dropdown me-3">
            <button class="btn btn-user rounded-pill dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-person-circle me-1"></i> <%= current_utilisateur.nom %>
            </button>
            <ul class="dropdown-menu" aria-labelledby="userDropdown">
              <li><%= link_to "Mon profil", utilisateur_path(current_utilisateur), class: "dropdown-item" %></li>
              <li><a class="dropdown-item" href="#">Mes annonces</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><%= button_to "Déconnexion", logout_path, method: :delete, class: "dropdown-item" %></li>
            </ul>
          </div>
          
          <a href="<%= new_annonce_path %>" style="border-radius:8px;" class="btn  publish-button ">
            <i class="bi bi-plus-square-fill me-1"></i> Publier une annonce
          </a>
        <% else %>
          <div class="me-3">
            <button class="btn btn-user rounded-pill">
              <i class="bi bi-person-circle me-1"></i> <i class="bi bi-caret-down-fill ms-1 small"></i>
            </button>
          </div>
          
          <a href="<%= new_annonce_path %>" class="btn publish-button rounded-pill">
            <i class="bi bi-grid-fill me-1"></i> Publier une annonce
          </a>
        <% end %>
        
        <a href="#" class="btn lang-button ms-2">
          العربية
        </a>
      </div>
    </div>
  </div>
</header>

<style>
  .publish-button {
    background-color: #FF5250;
    border-color: #FF5250;
    color: white;
    font-weight: 500;
    padding: 0.375rem 1rem;
  }
  
  .publish-button:hover {
    background-color: #ff3d3a;
    border-color: #ff3d3a;
    color: white;
  }
  
  .lang-button {
    border: 1px solid #dee2e6;
    border-radius: 50%;
    width: 38px;
    height: 38px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    font-size: 0.85rem;
    color: #666;
  }

  .btn-user {
    border: 1px solid #dee2e6;
    color: #333;
    display: flex;
    align-items: center;
    font-weight: normal;
  }

  .nav-link {
    color: #333;
    text-decoration: none;
    font-weight: normal;
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
  
  .nav-link:hover {
    color: #FF5250;
  }
  
  /* Fixed header adjustments */
  .avito-header {
    background-color: white;
    z-index: 1030;
    padding: 0.3rem 0;
  }
  
  /* Add padding to body to prevent content from hiding under fixed header */
  body {
    padding-top: 60px;
  }
</style>